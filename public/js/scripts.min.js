$("#pais").change(function(){$('#departamento option[value!="0"]').remove(),$('#ciudad option[value!="0"]').remove(),$("#resultado").val("");let e=$("#pais").val();$.ajax({type:"POST",url:"/api_departamento/"+e,data:{_token:"{{ csrf_token() }}"},datatype:"JSON",success:function(e){$("#departamento").prop("disabled",!1),$.each(e,function(e,a){$("#departamento").append($("<option>",{value:a.id,text:a.name}))}),$("#departamento").val("0"),$("#ciudad").val("0")},error:function(e){console.log("Error:",e)}})}),$("#departamento").change(function(){$('#ciudad option[value!="0"]').remove();let e=$("#departamento").val();$.ajax({type:"POST",url:"/api_ciudad/"+e,data:{_token:"{{ csrf_token() }}"},datatype:"JSON",success:function(e){$("#ciudad").prop("disabled",!1),$.each(e,function(e,a){$("#ciudad").append($("<option>",{value:a.id,text:a.name}))}),$("#ciudad").val("0")},error:function(e){console.log("Error:",e)}})}),$("#ciudad").change(function(){let e=$("#pais option:selected").text(),a=$("#departamento option:selected").text(),t=$("#ciudad option:selected").text(),o=$("#ciudad").val(),n=e+"/"+a+"/"+t;$("#resultado").val(n),$.ajax({type:"POST",url:"/api_mapa/"+o,data:{_token:"{{ csrf_token() }}"},datatype:"JSON",success:function(e){let a=L.map("map").setView([e.latitude,e.longitude],10);L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"\xa9 OpenStreetMap"}).addTo(a)},error:function(e){console.log("Error:",e)}}),Swal.fire({title:"Seleccion Realizada",text:n,icon:"info",confirmButtonText:"Next"})}),$("#reset").click(function(){$('#departamento option[value!="0"]').remove(),$('#ciudad option[value!="0"]').remove(),$("#pais").val("0"),$("#departamento").val("0"),$("#ciudad").val("0"),$("#resultado").val(""),$("#departamento").prop("disabled",!0),$("#ciudad").prop("disabled",!0)}),$("#map").click(function(){});